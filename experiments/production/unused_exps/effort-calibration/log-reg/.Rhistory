d <- data.frame(x = runit(1000, -100, 100))
d <- data.frame(x = runif(1000, -100, 100))
head(d)
plogis(3)
plogis(1.5)
plogis(.87)
plogis(.25)
ps <- plogis(b0 + b1*d$x)
## params
b0 <- .25
b1 <- .00159
ps <- plogis(b0 + b1*d$x)
head(ps)
hist(ps)
## params
b0 <- .25
b1 <- .0159
ps <- plogis(b0 + b1*d$x)
hist(ps)
plot(d$x, ps)
plot(d$x, ps)
plot(d$x, ps)
plot(d$x, ps)
d$y <- ifelse(ps > .5, 1, 0)
head(d)
## r glm
m1 <- glm(y ~ x, data = d, family = binomial(link = 'logit'))
summary(m1)
## params
b0 <- .25
b1 <- .00159
ps <- plogis(b0 + b1*d$x)
d$y <- ifelse(ps > .5, 1, 0)
## r glm
m1 <- glm(y ~ x, data = d, family = binomial(link = 'logit'))
summary(m1)
## params
b0 <- 25
b1 <- .159
ps <- plogis(b0 + b1*d$x)
d$y <- ifelse(ps > .5, 1, 0)
## r glm
m1 <- glm(y ~ x, data = d, family = binomial(link = 'logit'))
summary(m1)
head(ps)
hist(ps)
## params
b0 <- .25
b1 <- .159
ps <- plogis(b0 + b1*d$x)
hist(ps)
## params
b0 <- .25
b1 <- .00159
ps <- plogis(b0 + b1*d$x)
hist(ps)
## params
b0 <- .25
b1 <- .00159
ps <- plogis(b0 + b1*d$x + rnorm(nrow(d), 0, .01))
hist(ps)
ps <- plogis(b0 + b1*d$x + rnorm(nrow(d), 0, .1))
hist(ps)
ps <- plogis(b0 + b1*d$x + rnorm(nrow(d), 0, .2))
hist(ps)
b1 <- .0159
ps <- plogis(b0 + b1*d$x + rnorm(nrow(d), 0, .2))
hist(ps)
d$y <- ifelse(ps > .5, 1, 0)
## r glm
m1 <- glm(y ~ x, data = d, family = binomial(link = 'logit'))
summary(m1)
b1 <- .00159
ps <- plogis(b0 + b1*d$x + rnorm(nrow(d), 0, .2))
d$y <- ifelse(ps > .5, 1, 0)
## r glm
m1 <- glm(y ~ x, data = d, family = binomial(link = 'logit'))
summary(m1)
plot(d$x, ps)
plot(d$x, ps)
loss <- function(y, y_hat){
loss <- -mean(y * log(y_hat) + (1-y) * (1-log(y_hat)))
}
test <- data.frame(y_hat = seq(0,1,by =.001), y = 1)
plot(test)
plot(test$y_hat, loss(test$y, test$y_hat))
q()
